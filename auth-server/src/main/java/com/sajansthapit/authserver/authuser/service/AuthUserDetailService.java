package com.sajansthapit.authserver.authuser.service;import com.sajansthapit.authserver.authuser.model.AuthUser;import com.sajansthapit.authserver.authuser.repository.AuthUserRepository;import com.sajansthapit.authserver.config.security.AuthUserDetail;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.core.userdetails.UsernameNotFoundException;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;@Servicepublic class AuthUserDetailService implements UserDetailsService {    private final AuthUserRepository authUserRepository;    public AuthUserDetailService(AuthUserRepository authUserRepository) {        this.authUserRepository = authUserRepository;    }    @Transactional    @Override    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {        AuthUser authUser = authUserRepository.findByUsername(username)                .orElseThrow(() -> new UsernameNotFoundException(username + "not found"));        return AuthUserDetail.build(authUser);    }}